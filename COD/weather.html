<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <h1>获取 json 数据</h1>
    <input type="button"  value="获取json" id='btnJson'>
</body>
</html>
<script type="text/javascript">
    document.querySelector("#btnJson").onclick = function () {
        var ajax =  new XMLHttpRequest;
        city = "上海"
        key = 'e52a94e351194d439cc2d7a46095551b'
        url = "https://free-api.heweather.com/s6/weather?location=" + city + "&key=" + key       
        ajax.open('GET', url);
        ajax.send(); 
        ajax.onreadystatechange = function () {
			if (ajax.readyState==4&&ajax.status==200) {
				// json 字符串 是字符串 所以我们可以 通过  responseText获取
				console.log(ajax.responseText);

				// 转化为 js对象
				var jsObj = JSON.parse(ajax.responseText);

				console.log(jsObj);

				// 拼接ul s
				var str = '';

				str+='<ul>';
				str+='<li>'+'地区：'+jsObj.HeWeather6[0].basic.location+'</li>';
                str+='<li>'+'日期：'+jsObj.HeWeather6[0].daily_forecast[0].date+'</li>';
                str+='<li>'+'温度：'+jsObj.HeWeather6[0].daily_forecast[0].tmp_min+'~'+jsObj.HeWeather6[0].daily_forecast[0].tmp_max+'</li>';
				str+='<li>'+'天气：'+jsObj.HeWeather6[0].daily_forecast[0].cond_txt_d+'~'+jsObj.HeWeather6[0].daily_forecast[0].cond_txt_n+'</li>';
                str+='<li>'+'风向：'+jsObj.HeWeather6[0].daily_forecast[0].wind_dir+',风力：'+jsObj.HeWeather6[0].daily_forecast[0].wind_sc+'级'+'</li>';
				str+='</ul>';

				// 设置到界面上

				document.body.innerHTML = str;
            }
        }   
    }
</script>