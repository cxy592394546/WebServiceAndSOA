<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <h1>获取 json 数据</h1>
    <h2></h2>
    <input type="button"  value="获取json" id='btnJson'>
</body>
</html>
<script type="text/javascript">
    document.querySelector("#btnJson").onclick = function () {
        var ajax =  new XMLHttpRequest;
        city = '上海'
        key = 'f198a60dbe2343cf44ad13fdb307b939'
        url = 'https://cors-anywhere.herokuapp.com/zh.wikipedia.org/w/api.php?action=query&list=search&srsearch='+city+'市&format=json&formatversion=2'

        ajax.open('GET', url);
        ajax.send(); 
        ajax.onreadystatechange = function () {
			if (ajax.readyState==4&&ajax.status==200) {
				// json 字符串 是字符串 所以我们可以 通过  responseText获取
				console.log(ajax.responseText);

				// 转化为 js对象
				var jsObj = JSON.parse(ajax.responseText);

				console.log(jsObj);

				// 拼接ul s
				var str = '';

				str+='<ul>';
				str+='<li>'+jsObj.query.search[0].snippet+'</li>';
				str+='</ul>';

				// 设置到界面上

				document.body.innerHTML = str;
			}
        }   
    }
</script>